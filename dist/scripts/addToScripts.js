"use strict";

var _addScript = _interopRequireDefault(require("./utils/addScript"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
/* eslint-disable no-console */

const path = require('path');

/**
 * This script adds a 'desktop' entry to 'scripts' in package.json. If the entry already exists
 * it leaves it untouched.
 */

function fail() {
  console.error('[meteor-desktop] failed to add meteor-desktop to your package.json scripts, ' + 'please add it manually as \'desktop\': \'meteor-desktop\'');
  process.exit(0);
}
const packageJsonPath = path.resolve(
// For registry installs, __dirname = node_modules/@meteor-community/meteor-desktop/dist/scripts
path.join(__dirname, '..', '..', '..', '..', '..', 'package.json'));
(0, _addScript.default)('desktop', 'meteor-desktop', packageJsonPath, fail);
console.log('[meteor-desktop] successfully added a \'desktop\' entry to your package.json' + ' scripts section.');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYWRkU2NyaXB0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJmYWlsIiwiY29uc29sZSIsImVycm9yIiwicHJvY2VzcyIsImV4aXQiLCJwYWNrYWdlSnNvblBhdGgiLCJyZXNvbHZlIiwiam9pbiIsIl9fZGlybmFtZSIsImFkZFNjcmlwdCIsImxvZyJdLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9zY3JpcHRzL2FkZFRvU2NyaXB0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5pbXBvcnQgYWRkU2NyaXB0IGZyb20gJy4vdXRpbHMvYWRkU2NyaXB0JztcblxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuLyoqXG4gKiBUaGlzIHNjcmlwdCBhZGRzIGEgJ2Rlc2t0b3AnIGVudHJ5IHRvICdzY3JpcHRzJyBpbiBwYWNrYWdlLmpzb24uIElmIHRoZSBlbnRyeSBhbHJlYWR5IGV4aXN0c1xuICogaXQgbGVhdmVzIGl0IHVudG91Y2hlZC5cbiAqL1xuXG5mdW5jdGlvbiBmYWlsKCkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1ttZXRlb3ItZGVza3RvcF0gZmFpbGVkIHRvIGFkZCBtZXRlb3ItZGVza3RvcCB0byB5b3VyIHBhY2thZ2UuanNvbiBzY3JpcHRzLCAnICtcbiAgICAgICAgJ3BsZWFzZSBhZGQgaXQgbWFudWFsbHkgYXMgXFwnZGVza3RvcFxcJzogXFwnbWV0ZW9yLWRlc2t0b3BcXCcnKTtcbiAgICBwcm9jZXNzLmV4aXQoMCk7XG59XG5cbmNvbnN0IHBhY2thZ2VKc29uUGF0aCA9IHBhdGgucmVzb2x2ZShcbiAgICAvLyBGb3IgcmVnaXN0cnkgaW5zdGFsbHMsIF9fZGlybmFtZSA9IG5vZGVfbW9kdWxlcy9AbWV0ZW9yLWNvbW11bml0eS9tZXRlb3ItZGVza3RvcC9kaXN0L3NjcmlwdHNcbiAgICBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4nLCAnLi4nLCAnLi4nLCAnLi4nLCAnLi4nLCAncGFja2FnZS5qc29uJylcbik7XG5cbmFkZFNjcmlwdCgnZGVza3RvcCcsICdtZXRlb3ItZGVza3RvcCcsIHBhY2thZ2VKc29uUGF0aCwgZmFpbCk7XG5cbmNvbnNvbGUubG9nKCdbbWV0ZW9yLWRlc2t0b3BdIHN1Y2Nlc3NmdWxseSBhZGRlZCBhIFxcJ2Rlc2t0b3BcXCcgZW50cnkgdG8geW91ciBwYWNrYWdlLmpzb24nICtcbiAgICAnIHNjcmlwdHMgc2VjdGlvbi4nKTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFDQSxJQUFBQSxVQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBMEMsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFEMUM7O0FBR0EsTUFBTUcsSUFBSSxHQUFHSixPQUFPLENBQUMsTUFBTSxDQUFDOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTSyxJQUFJQSxDQUFBLEVBQUc7RUFDWkMsT0FBTyxDQUFDQyxLQUFLLENBQUMsOEVBQThFLEdBQ3hGLDJEQUEyRCxDQUFDO0VBQ2hFQyxPQUFPLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDbkI7QUFFQSxNQUFNQyxlQUFlLEdBQUdOLElBQUksQ0FBQ08sT0FBTztBQUNoQztBQUNBUCxJQUFJLENBQUNRLElBQUksQ0FBQ0MsU0FBUyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsY0FBYyxDQUNyRSxDQUFDO0FBRUQsSUFBQUMsa0JBQVMsRUFBQyxTQUFTLEVBQUUsZ0JBQWdCLEVBQUVKLGVBQWUsRUFBRUwsSUFBSSxDQUFDO0FBRTdEQyxPQUFPLENBQUNTLEdBQUcsQ0FBQyw4RUFBOEUsR0FDdEYsbUJBQW1CLENBQUMifQ==