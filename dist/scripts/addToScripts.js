"use strict";

var _addScript = _interopRequireDefault(require("./utils/addScript"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
/* eslint-disable no-console */

const path = require('path');

/**
 * This script adds a 'desktop' entry to 'scripts' in package.json. If the entry already exists
 * it leaves it untouched.
 */

function fail() {
  console.error('[meteor-desktop] failed to add meteor-desktop to your package.json scripts, ' + 'please add it manually as \'desktop\': \'meteor-desktop\'');
  process.exit(0);
}
const packageJsonPath = path.resolve(
// For registry installs, __dirname = node_modules/@meteor-community/meteor-desktop/dist/scripts
path.join(__dirname, '..', '..', '..', '..', '..', 'package.json'));
(0, _addScript.default)('desktop', 'meteor-desktop', packageJsonPath, fail);
console.log('[meteor-desktop] successfully added a \'desktop\' entry to your package.json' + ' scripts section.');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYWRkU2NyaXB0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJwYXRoIiwiZmFpbCIsImNvbnNvbGUiLCJlcnJvciIsInByb2Nlc3MiLCJleGl0IiwicGFja2FnZUpzb25QYXRoIiwicmVzb2x2ZSIsImpvaW4iLCJfX2Rpcm5hbWUiLCJhZGRTY3JpcHQiLCJsb2ciXSwic291cmNlcyI6WyIuLi8uLi9saWIvc2NyaXB0cy9hZGRUb1NjcmlwdHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuaW1wb3J0IGFkZFNjcmlwdCBmcm9tICcuL3V0aWxzL2FkZFNjcmlwdCc7XG5cbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbi8qKlxuICogVGhpcyBzY3JpcHQgYWRkcyBhICdkZXNrdG9wJyBlbnRyeSB0byAnc2NyaXB0cycgaW4gcGFja2FnZS5qc29uLiBJZiB0aGUgZW50cnkgYWxyZWFkeSBleGlzdHNcbiAqIGl0IGxlYXZlcyBpdCB1bnRvdWNoZWQuXG4gKi9cblxuZnVuY3Rpb24gZmFpbCgpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbbWV0ZW9yLWRlc2t0b3BdIGZhaWxlZCB0byBhZGQgbWV0ZW9yLWRlc2t0b3AgdG8geW91ciBwYWNrYWdlLmpzb24gc2NyaXB0cywgJyArXG4gICAgICAgICdwbGVhc2UgYWRkIGl0IG1hbnVhbGx5IGFzIFxcJ2Rlc2t0b3BcXCc6IFxcJ21ldGVvci1kZXNrdG9wXFwnJyk7XG4gICAgcHJvY2Vzcy5leGl0KDApO1xufVxuXG5jb25zdCBwYWNrYWdlSnNvblBhdGggPSBwYXRoLnJlc29sdmUoXG4gICAgLy8gRm9yIHJlZ2lzdHJ5IGluc3RhbGxzLCBfX2Rpcm5hbWUgPSBub2RlX21vZHVsZXMvQG1ldGVvci1jb21tdW5pdHkvbWV0ZW9yLWRlc2t0b3AvZGlzdC9zY3JpcHRzXG4gICAgcGF0aC5qb2luKF9fZGlybmFtZSwgJy4uJywgJy4uJywgJy4uJywgJy4uJywgJy4uJywgJ3BhY2thZ2UuanNvbicpXG4pO1xuXG5hZGRTY3JpcHQoJ2Rlc2t0b3AnLCAnbWV0ZW9yLWRlc2t0b3AnLCBwYWNrYWdlSnNvblBhdGgsIGZhaWwpO1xuXG5jb25zb2xlLmxvZygnW21ldGVvci1kZXNrdG9wXSBzdWNjZXNzZnVsbHkgYWRkZWQgYSBcXCdkZXNrdG9wXFwnIGVudHJ5IHRvIHlvdXIgcGFja2FnZS5qc29uJyArXG4gICAgJyBzY3JpcHRzIHNlY3Rpb24uJyk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQ0EsSUFBQUEsVUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFELHVCQUFBRSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRDFDOztBQUdBLE1BQU1HLElBQUksR0FBR0osT0FBTyxDQUFDLE1BQU0sQ0FBQzs7QUFFNUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBU0ssSUFBSUEsQ0FBQSxFQUFHO0VBQ1pDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLDhFQUE4RSxHQUN4RiwyREFBMkQsQ0FBQztFQUNoRUMsT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ25CO0FBRUEsTUFBTUMsZUFBZSxHQUFHTixJQUFJLENBQUNPLE9BQU87QUFDaEM7QUFDQVAsSUFBSSxDQUFDUSxJQUFJLENBQUNDLFNBQVMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLGNBQWMsQ0FDckUsQ0FBQztBQUVELElBQUFDLGtCQUFTLEVBQUMsU0FBUyxFQUFFLGdCQUFnQixFQUFFSixlQUFlLEVBQUVMLElBQUksQ0FBQztBQUU3REMsT0FBTyxDQUFDUyxHQUFHLENBQUMsOEVBQThFLEdBQ3RGLG1CQUFtQixDQUFDIiwiaWdub3JlTGlzdCI6W119